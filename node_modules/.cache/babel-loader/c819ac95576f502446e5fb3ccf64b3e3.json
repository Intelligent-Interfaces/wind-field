{"ast":null,"code":"import * as tslib_1 from \"tslib\";\nimport { getContext } from \"../Global\";\nimport { intervalToFrequencyRatio, mtof } from \"./Conversions\";\nimport { ftom, getA4, setA4 } from \"./Conversions\";\nimport { TimeClass } from \"./Time\";\n/**\n * Frequency is a primitive type for encoding Frequency values.\n * Eventually all time values are evaluated to hertz using the `eval` method.\n * @example\n * import { Frequency } from \"tone\";\n * Frequency(\"C3\"); // 261\n * Frequency(38, \"midi\");\n * Frequency(\"C3\").transpose(4);\n * @category Unit\n */\n\nvar FrequencyClass =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(FrequencyClass, _super);\n\n  function FrequencyClass() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.name = \"Frequency\";\n    _this.defaultUnits = \"hz\";\n    return _this;\n  }\n\n  Object.defineProperty(FrequencyClass, \"A4\", {\n    /**\n     * The [concert tuning pitch](https://en.wikipedia.org/wiki/Concert_pitch) which is used\n     * to generate all the other pitch values from notes. A4's values in Hertz.\n     */\n    get: function () {\n      return getA4();\n    },\n    set: function (freq) {\n      setA4(freq);\n    },\n    enumerable: true,\n    configurable: true\n  }); //-------------------------------------\n  // \tAUGMENT BASE EXPRESSIONS\n  //-------------------------------------\n\n  FrequencyClass.prototype._getExpressions = function () {\n    return Object.assign({}, _super.prototype._getExpressions.call(this), {\n      midi: {\n        regexp: /^(\\d+(?:\\.\\d+)?midi)/,\n        method: function (value) {\n          if (this.defaultUnits === \"midi\") {\n            return value;\n          } else {\n            return FrequencyClass.mtof(value);\n          }\n        }\n      },\n      note: {\n        regexp: /^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,\n        method: function (pitch, octave) {\n          var index = noteToScaleIndex[pitch.toLowerCase()];\n          var noteNumber = index + (parseInt(octave, 10) + 1) * 12;\n\n          if (this.defaultUnits === \"midi\") {\n            return noteNumber;\n          } else {\n            return FrequencyClass.mtof(noteNumber);\n          }\n        }\n      },\n      tr: {\n        regexp: /^(\\d+(?:\\.\\d+)?):(\\d+(?:\\.\\d+)?):?(\\d+(?:\\.\\d+)?)?/,\n        method: function (m, q, s) {\n          var total = 1;\n\n          if (m && m !== \"0\") {\n            total *= this._beatsToUnits(this._getTimeSignature() * parseFloat(m));\n          }\n\n          if (q && q !== \"0\") {\n            total *= this._beatsToUnits(parseFloat(q));\n          }\n\n          if (s && s !== \"0\") {\n            total *= this._beatsToUnits(parseFloat(s) / 4);\n          }\n\n          return total;\n        }\n      }\n    });\n  }; //-------------------------------------\n  // \tEXPRESSIONS\n  //-------------------------------------\n\n  /**\n   * Transposes the frequency by the given number of semitones.\n   * @return  A new transposed frequency\n   * @example\n   * import { Frequency } from \"tone\";\n   * Frequency(\"A4\").transpose(3); // \"C5\"\n   */\n\n\n  FrequencyClass.prototype.transpose = function (interval) {\n    return new FrequencyClass(this.context, this.valueOf() * intervalToFrequencyRatio(interval));\n  };\n  /**\n   * Takes an array of semitone intervals and returns\n   * an array of frequencies transposed by those intervals.\n   * @return  Returns an array of Frequencies\n   * @example\n   * import { Frequency } from \"tone\";\n   * Frequency(\"A4\").harmonize([0, 3, 7]); // [\"A4\", \"C5\", \"E5\"]\n   */\n\n\n  FrequencyClass.prototype.harmonize = function (intervals) {\n    var _this = this;\n\n    return intervals.map(function (interval) {\n      return _this.transpose(interval);\n    });\n  }; //-------------------------------------\n  // \tUNIT CONVERSIONS\n  //-------------------------------------\n\n  /**\n   * Return the value of the frequency as a MIDI note\n   * @example\n   * import { Frequency } from \"tone\";\n   * Frequency(\"C4\").toMidi(); // 60\n   */\n\n\n  FrequencyClass.prototype.toMidi = function () {\n    return ftom(this.valueOf());\n  };\n  /**\n   * Return the value of the frequency in Scientific Pitch Notation\n   * @example\n   * import { Frequency } from \"tone\";\n   * Frequency(69, \"midi\").toNote(); // \"A4\"\n   */\n\n\n  FrequencyClass.prototype.toNote = function () {\n    var freq = this.toFrequency();\n    var log = Math.log2(freq / FrequencyClass.A4);\n    var noteNumber = Math.round(12 * log) + 57;\n    var octave = Math.floor(noteNumber / 12);\n\n    if (octave < 0) {\n      noteNumber += -12 * octave;\n    }\n\n    var noteName = scaleIndexToNote[noteNumber % 12];\n    return noteName + octave.toString();\n  };\n  /**\n   * Return the duration of one cycle in seconds.\n   */\n\n\n  FrequencyClass.prototype.toSeconds = function () {\n    return 1 / _super.prototype.toSeconds.call(this);\n  };\n  /**\n   * Return the duration of one cycle in ticks\n   */\n\n\n  FrequencyClass.prototype.toTicks = function () {\n    var quarterTime = this._beatsToUnits(1);\n\n    var quarters = this.valueOf() / quarterTime;\n    return Math.floor(quarters * this._getPPQ());\n  }; //-------------------------------------\n  // \tUNIT CONVERSIONS HELPERS\n  //-------------------------------------\n\n  /**\n   * With no arguments, return 0\n   */\n\n\n  FrequencyClass.prototype._noArg = function () {\n    return 0;\n  };\n  /**\n   * Returns the value of a frequency in the current units\n   */\n\n\n  FrequencyClass.prototype._frequencyToUnits = function (freq) {\n    return freq;\n  };\n  /**\n   * Returns the value of a tick in the current time units\n   */\n\n\n  FrequencyClass.prototype._ticksToUnits = function (ticks) {\n    return 1 / (ticks * 60 / (this._getBpm() * this._getPPQ()));\n  };\n  /**\n   * Return the value of the beats in the current units\n   */\n\n\n  FrequencyClass.prototype._beatsToUnits = function (beats) {\n    return 1 / _super.prototype._beatsToUnits.call(this, beats);\n  };\n  /**\n   * Returns the value of a second in the current units\n   */\n\n\n  FrequencyClass.prototype._secondsToUnits = function (seconds) {\n    return 1 / seconds;\n  };\n  /**\n   * Convert a MIDI note to frequency value.\n   * @param  midi The midi number to convert.\n   * @return The corresponding frequency value\n   */\n\n\n  FrequencyClass.mtof = function (midi) {\n    return mtof(midi);\n  };\n  /**\n   * Convert a frequency value to a MIDI note.\n   * @param frequency The value to frequency value to convert.\n   */\n\n\n  FrequencyClass.ftom = function (frequency) {\n    return ftom(frequency);\n  };\n\n  return FrequencyClass;\n}(TimeClass);\n\nexport { FrequencyClass }; //-------------------------------------\n// \tFREQUENCY CONVERSIONS\n//-------------------------------------\n\n/**\n * Note to scale index.\n * @hidden\n */\n\nvar noteToScaleIndex = {\n  cbb: -2,\n  cb: -1,\n  c: 0,\n  \"c#\": 1,\n  cx: 2,\n  dbb: 0,\n  db: 1,\n  d: 2,\n  \"d#\": 3,\n  dx: 4,\n  ebb: 2,\n  eb: 3,\n  e: 4,\n  \"e#\": 5,\n  ex: 6,\n  fbb: 3,\n  fb: 4,\n  f: 5,\n  \"f#\": 6,\n  fx: 7,\n  gbb: 5,\n  gb: 6,\n  g: 7,\n  \"g#\": 8,\n  gx: 9,\n  abb: 7,\n  ab: 8,\n  a: 9,\n  \"a#\": 10,\n  ax: 11,\n  bbb: 9,\n  bb: 10,\n  b: 11,\n  \"b#\": 12,\n  bx: 13\n};\n/**\n * scale index to note (sharps)\n * @hidden\n */\n\nvar scaleIndexToNote = [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"];\n/**\n * Convert a value into a FrequencyClass object.\n * @category Unit\n */\n\nexport function Frequency(value, units) {\n  return new FrequencyClass(getContext(), value, units);\n}","map":{"version":3,"sources":["../../../../Tone/core/type/Frequency.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import * as tslib_1 from \"tslib\";\nimport { getContext } from \"../Global\";\nimport { intervalToFrequencyRatio, mtof } from \"./Conversions\";\nimport { ftom, getA4, setA4 } from \"./Conversions\";\nimport { TimeClass } from \"./Time\";\n/**\n * Frequency is a primitive type for encoding Frequency values.\n * Eventually all time values are evaluated to hertz using the `eval` method.\n * @example\n * import { Frequency } from \"tone\";\n * Frequency(\"C3\"); // 261\n * Frequency(38, \"midi\");\n * Frequency(\"C3\").transpose(4);\n * @category Unit\n */\nvar FrequencyClass = /** @class */ (function (_super) {\n    tslib_1.__extends(FrequencyClass, _super);\n    function FrequencyClass() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.name = \"Frequency\";\n        _this.defaultUnits = \"hz\";\n        return _this;\n    }\n    Object.defineProperty(FrequencyClass, \"A4\", {\n        /**\n         * The [concert tuning pitch](https://en.wikipedia.org/wiki/Concert_pitch) which is used\n         * to generate all the other pitch values from notes. A4's values in Hertz.\n         */\n        get: function () {\n            return getA4();\n        },\n        set: function (freq) {\n            setA4(freq);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //-------------------------------------\n    // \tAUGMENT BASE EXPRESSIONS\n    //-------------------------------------\n    FrequencyClass.prototype._getExpressions = function () {\n        return Object.assign({}, _super.prototype._getExpressions.call(this), {\n            midi: {\n                regexp: /^(\\d+(?:\\.\\d+)?midi)/,\n                method: function (value) {\n                    if (this.defaultUnits === \"midi\") {\n                        return value;\n                    }\n                    else {\n                        return FrequencyClass.mtof(value);\n                    }\n                },\n            },\n            note: {\n                regexp: /^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,\n                method: function (pitch, octave) {\n                    var index = noteToScaleIndex[pitch.toLowerCase()];\n                    var noteNumber = index + (parseInt(octave, 10) + 1) * 12;\n                    if (this.defaultUnits === \"midi\") {\n                        return noteNumber;\n                    }\n                    else {\n                        return FrequencyClass.mtof(noteNumber);\n                    }\n                },\n            },\n            tr: {\n                regexp: /^(\\d+(?:\\.\\d+)?):(\\d+(?:\\.\\d+)?):?(\\d+(?:\\.\\d+)?)?/,\n                method: function (m, q, s) {\n                    var total = 1;\n                    if (m && m !== \"0\") {\n                        total *= this._beatsToUnits(this._getTimeSignature() * parseFloat(m));\n                    }\n                    if (q && q !== \"0\") {\n                        total *= this._beatsToUnits(parseFloat(q));\n                    }\n                    if (s && s !== \"0\") {\n                        total *= this._beatsToUnits(parseFloat(s) / 4);\n                    }\n                    return total;\n                },\n            },\n        });\n    };\n    //-------------------------------------\n    // \tEXPRESSIONS\n    //-------------------------------------\n    /**\n     * Transposes the frequency by the given number of semitones.\n     * @return  A new transposed frequency\n     * @example\n     * import { Frequency } from \"tone\";\n     * Frequency(\"A4\").transpose(3); // \"C5\"\n     */\n    FrequencyClass.prototype.transpose = function (interval) {\n        return new FrequencyClass(this.context, this.valueOf() * intervalToFrequencyRatio(interval));\n    };\n    /**\n     * Takes an array of semitone intervals and returns\n     * an array of frequencies transposed by those intervals.\n     * @return  Returns an array of Frequencies\n     * @example\n     * import { Frequency } from \"tone\";\n     * Frequency(\"A4\").harmonize([0, 3, 7]); // [\"A4\", \"C5\", \"E5\"]\n     */\n    FrequencyClass.prototype.harmonize = function (intervals) {\n        var _this = this;\n        return intervals.map(function (interval) {\n            return _this.transpose(interval);\n        });\n    };\n    //-------------------------------------\n    // \tUNIT CONVERSIONS\n    //-------------------------------------\n    /**\n     * Return the value of the frequency as a MIDI note\n     * @example\n     * import { Frequency } from \"tone\";\n     * Frequency(\"C4\").toMidi(); // 60\n     */\n    FrequencyClass.prototype.toMidi = function () {\n        return ftom(this.valueOf());\n    };\n    /**\n     * Return the value of the frequency in Scientific Pitch Notation\n     * @example\n     * import { Frequency } from \"tone\";\n     * Frequency(69, \"midi\").toNote(); // \"A4\"\n     */\n    FrequencyClass.prototype.toNote = function () {\n        var freq = this.toFrequency();\n        var log = Math.log2(freq / FrequencyClass.A4);\n        var noteNumber = Math.round(12 * log) + 57;\n        var octave = Math.floor(noteNumber / 12);\n        if (octave < 0) {\n            noteNumber += -12 * octave;\n        }\n        var noteName = scaleIndexToNote[noteNumber % 12];\n        return noteName + octave.toString();\n    };\n    /**\n     * Return the duration of one cycle in seconds.\n     */\n    FrequencyClass.prototype.toSeconds = function () {\n        return 1 / _super.prototype.toSeconds.call(this);\n    };\n    /**\n     * Return the duration of one cycle in ticks\n     */\n    FrequencyClass.prototype.toTicks = function () {\n        var quarterTime = this._beatsToUnits(1);\n        var quarters = this.valueOf() / quarterTime;\n        return Math.floor(quarters * this._getPPQ());\n    };\n    //-------------------------------------\n    // \tUNIT CONVERSIONS HELPERS\n    //-------------------------------------\n    /**\n     * With no arguments, return 0\n     */\n    FrequencyClass.prototype._noArg = function () {\n        return 0;\n    };\n    /**\n     * Returns the value of a frequency in the current units\n     */\n    FrequencyClass.prototype._frequencyToUnits = function (freq) {\n        return freq;\n    };\n    /**\n     * Returns the value of a tick in the current time units\n     */\n    FrequencyClass.prototype._ticksToUnits = function (ticks) {\n        return 1 / ((ticks * 60) / (this._getBpm() * this._getPPQ()));\n    };\n    /**\n     * Return the value of the beats in the current units\n     */\n    FrequencyClass.prototype._beatsToUnits = function (beats) {\n        return 1 / _super.prototype._beatsToUnits.call(this, beats);\n    };\n    /**\n     * Returns the value of a second in the current units\n     */\n    FrequencyClass.prototype._secondsToUnits = function (seconds) {\n        return 1 / seconds;\n    };\n    /**\n     * Convert a MIDI note to frequency value.\n     * @param  midi The midi number to convert.\n     * @return The corresponding frequency value\n     */\n    FrequencyClass.mtof = function (midi) {\n        return mtof(midi);\n    };\n    /**\n     * Convert a frequency value to a MIDI note.\n     * @param frequency The value to frequency value to convert.\n     */\n    FrequencyClass.ftom = function (frequency) {\n        return ftom(frequency);\n    };\n    return FrequencyClass;\n}(TimeClass));\nexport { FrequencyClass };\n//-------------------------------------\n// \tFREQUENCY CONVERSIONS\n//-------------------------------------\n/**\n * Note to scale index.\n * @hidden\n */\nvar noteToScaleIndex = {\n    cbb: -2, cb: -1, c: 0, \"c#\": 1, cx: 2,\n    dbb: 0, db: 1, d: 2, \"d#\": 3, dx: 4,\n    ebb: 2, eb: 3, e: 4, \"e#\": 5, ex: 6,\n    fbb: 3, fb: 4, f: 5, \"f#\": 6, fx: 7,\n    gbb: 5, gb: 6, g: 7, \"g#\": 8, gx: 9,\n    abb: 7, ab: 8, a: 9, \"a#\": 10, ax: 11,\n    bbb: 9, bb: 10, b: 11, \"b#\": 12, bx: 13,\n};\n/**\n * scale index to note (sharps)\n * @hidden\n */\nvar scaleIndexToNote = [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"];\n/**\n * Convert a value into a FrequencyClass object.\n * @category Unit\n */\nexport function Frequency(value, units) {\n    return new FrequencyClass(getContext(), value, units);\n}\n//# sourceMappingURL=Frequency.js.map"]},"metadata":{},"sourceType":"module"}