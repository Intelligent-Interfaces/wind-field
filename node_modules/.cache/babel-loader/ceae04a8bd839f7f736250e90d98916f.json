{"ast":null,"code":"//-------------------------------------\n// INITIALIZING NEW CONTEXT\n//-------------------------------------\n\n/**\n * Array of callbacks to invoke when a new context is created\n */\nvar notifyNewContext = [];\n/**\n * Used internally to setup a new Context\n */\n\nexport function onContextInit(cb) {\n  notifyNewContext.push(cb);\n}\n/**\n * Invoke any classes which need to also be initialized when a new context is created.\n */\n\nexport function initializeContext(ctx) {\n  // add any additional modules\n  notifyNewContext.forEach(function (cb) {\n    return cb(ctx);\n  });\n}\n/**\n * Array of callbacks to invoke when a new context is created\n */\n\nvar notifyCloseContext = [];\n/**\n * Used internally to tear down a Context\n */\n\nexport function onContextClose(cb) {\n  notifyCloseContext.push(cb);\n}\nexport function closeContext(ctx) {\n  // add any additional modules\n  notifyCloseContext.forEach(function (cb) {\n    return cb(ctx);\n  });\n}","map":{"version":3,"sources":["../../../../Tone/core/context/ContextInitialization.ts"],"names":[],"mappings":"AAAA;AACA;AACA;;AAIA;;;AAGA,IAAM,gBAAgB,GAAkC,EAAxD;AAEA;;;;AAGA,OAAM,SAAU,aAAV,CAAwB,EAAxB,EAAkD;AACvD,EAAA,gBAAgB,CAAC,IAAjB,CAAsB,EAAtB;AACA;AAED;;;;AAGA,OAAM,SAAU,iBAAV,CAA4B,GAA5B,EAAwC;AAC7C;AACA,EAAA,gBAAgB,CAAC,OAAjB,CAAyB,UAAA,EAAA,EAAE;AAAI,WAAA,EAAE,CAAF,GAAE,CAAF;AAAO,GAAtC;AACA;AAED;;;;AAGA,IAAM,kBAAkB,GAAkC,EAA1D;AAEA;;;;AAGA,OAAM,SAAU,cAAV,CAAyB,EAAzB,EAAmD;AACxD,EAAA,kBAAkB,CAAC,IAAnB,CAAwB,EAAxB;AACA;AAED,OAAM,SAAU,YAAV,CAAuB,GAAvB,EAAmC;AACxC;AACA,EAAA,kBAAkB,CAAC,OAAnB,CAA2B,UAAA,EAAA,EAAE;AAAI,WAAA,EAAE,CAAF,GAAE,CAAF;AAAO,GAAxC;AACA","sourceRoot":"","sourcesContent":["//-------------------------------------\n// INITIALIZING NEW CONTEXT\n//-------------------------------------\n/**\n * Array of callbacks to invoke when a new context is created\n */\nvar notifyNewContext = [];\n/**\n * Used internally to setup a new Context\n */\nexport function onContextInit(cb) {\n    notifyNewContext.push(cb);\n}\n/**\n * Invoke any classes which need to also be initialized when a new context is created.\n */\nexport function initializeContext(ctx) {\n    // add any additional modules\n    notifyNewContext.forEach(function (cb) { return cb(ctx); });\n}\n/**\n * Array of callbacks to invoke when a new context is created\n */\nvar notifyCloseContext = [];\n/**\n * Used internally to tear down a Context\n */\nexport function onContextClose(cb) {\n    notifyCloseContext.push(cb);\n}\nexport function closeContext(ctx) {\n    // add any additional modules\n    notifyCloseContext.forEach(function (cb) { return cb(ctx); });\n}\n//# sourceMappingURL=ContextInitialization.js.map"]},"metadata":{},"sourceType":"module"}