{"ast":null,"code":"import * as tslib_1 from \"tslib\";\nimport { ToneAudioNode } from \"./ToneAudioNode\";\nimport { Param } from \"./Param\";\nimport { onContextClose, onContextInit } from \"./ContextInitialization\";\n/**\n * Tone.Listener is a thin wrapper around the AudioListener. Listener combined\n * with [[Panner3D]] makes up the Web Audio API's 3D panning system. Panner3D allows you\n * to place sounds in 3D and Listener allows you to navigate the 3D sound environment from\n * a first-person perspective. There is only one listener per audio context.\n */\n\nvar Listener =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Listener, _super);\n\n  function Listener() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.name = \"Listener\";\n    _this.positionX = new Param({\n      context: _this.context,\n      param: _this.context.rawContext.listener.positionX\n    });\n    _this.positionY = new Param({\n      context: _this.context,\n      param: _this.context.rawContext.listener.positionY\n    });\n    _this.positionZ = new Param({\n      context: _this.context,\n      param: _this.context.rawContext.listener.positionZ\n    });\n    _this.forwardX = new Param({\n      context: _this.context,\n      param: _this.context.rawContext.listener.forwardX\n    });\n    _this.forwardY = new Param({\n      context: _this.context,\n      param: _this.context.rawContext.listener.forwardY\n    });\n    _this.forwardZ = new Param({\n      context: _this.context,\n      param: _this.context.rawContext.listener.forwardZ\n    });\n    _this.upX = new Param({\n      context: _this.context,\n      param: _this.context.rawContext.listener.upX\n    });\n    _this.upY = new Param({\n      context: _this.context,\n      param: _this.context.rawContext.listener.upY\n    });\n    _this.upZ = new Param({\n      context: _this.context,\n      param: _this.context.rawContext.listener.upZ\n    });\n    return _this;\n  }\n\n  Listener.getDefaults = function () {\n    return Object.assign(ToneAudioNode.getDefaults(), {\n      positionX: 0,\n      positionY: 0,\n      positionZ: 0,\n      forwardX: 0,\n      forwardY: 0,\n      forwardZ: -1,\n      upX: 0,\n      upY: 1,\n      upZ: 0\n    });\n  };\n\n  Listener.prototype.dispose = function () {\n    _super.prototype.dispose.call(this);\n\n    this.positionX.dispose();\n    this.positionY.dispose();\n    this.positionZ.dispose();\n    this.forwardX.dispose();\n    this.forwardY.dispose();\n    this.forwardZ.dispose();\n    this.upX.dispose();\n    this.upY.dispose();\n    this.upZ.dispose();\n    return this;\n  };\n\n  return Listener;\n}(ToneAudioNode);\n\nexport { Listener }; //-------------------------------------\n// \tINITIALIZATION\n//-------------------------------------\n\nonContextInit(function (context) {\n  context.listener = new Listener({\n    context: context\n  });\n});\nonContextClose(function (context) {\n  context.listener.dispose();\n});","map":{"version":3,"sources":["../../../../Tone/core/context/Listener.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import * as tslib_1 from \"tslib\";\nimport { ToneAudioNode } from \"./ToneAudioNode\";\nimport { Param } from \"./Param\";\nimport { onContextClose, onContextInit } from \"./ContextInitialization\";\n/**\n * Tone.Listener is a thin wrapper around the AudioListener. Listener combined\n * with [[Panner3D]] makes up the Web Audio API's 3D panning system. Panner3D allows you\n * to place sounds in 3D and Listener allows you to navigate the 3D sound environment from\n * a first-person perspective. There is only one listener per audio context.\n */\nvar Listener = /** @class */ (function (_super) {\n    tslib_1.__extends(Listener, _super);\n    function Listener() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.name = \"Listener\";\n        _this.positionX = new Param({\n            context: _this.context,\n            param: _this.context.rawContext.listener.positionX,\n        });\n        _this.positionY = new Param({\n            context: _this.context,\n            param: _this.context.rawContext.listener.positionY,\n        });\n        _this.positionZ = new Param({\n            context: _this.context,\n            param: _this.context.rawContext.listener.positionZ,\n        });\n        _this.forwardX = new Param({\n            context: _this.context,\n            param: _this.context.rawContext.listener.forwardX,\n        });\n        _this.forwardY = new Param({\n            context: _this.context,\n            param: _this.context.rawContext.listener.forwardY,\n        });\n        _this.forwardZ = new Param({\n            context: _this.context,\n            param: _this.context.rawContext.listener.forwardZ,\n        });\n        _this.upX = new Param({\n            context: _this.context,\n            param: _this.context.rawContext.listener.upX,\n        });\n        _this.upY = new Param({\n            context: _this.context,\n            param: _this.context.rawContext.listener.upY,\n        });\n        _this.upZ = new Param({\n            context: _this.context,\n            param: _this.context.rawContext.listener.upZ,\n        });\n        return _this;\n    }\n    Listener.getDefaults = function () {\n        return Object.assign(ToneAudioNode.getDefaults(), {\n            positionX: 0,\n            positionY: 0,\n            positionZ: 0,\n            forwardX: 0,\n            forwardY: 0,\n            forwardZ: -1,\n            upX: 0,\n            upY: 1,\n            upZ: 0,\n        });\n    };\n    Listener.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this.positionX.dispose();\n        this.positionY.dispose();\n        this.positionZ.dispose();\n        this.forwardX.dispose();\n        this.forwardY.dispose();\n        this.forwardZ.dispose();\n        this.upX.dispose();\n        this.upY.dispose();\n        this.upZ.dispose();\n        return this;\n    };\n    return Listener;\n}(ToneAudioNode));\nexport { Listener };\n//-------------------------------------\n// \tINITIALIZATION\n//-------------------------------------\nonContextInit(function (context) {\n    context.listener = new Listener({ context: context });\n});\nonContextClose(function (context) {\n    context.listener.dispose();\n});\n//# sourceMappingURL=Listener.js.map"]},"metadata":{},"sourceType":"module"}