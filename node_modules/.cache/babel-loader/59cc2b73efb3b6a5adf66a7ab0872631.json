{"ast":null,"code":"import _objectSpread from \"/Users/erickoduniyi/Desktop/affective_chaos_control/Emulators/wind-field/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport { Synth, Envelope } from 'tone';\nimport { Sound } from 'pts';\nimport { BaseSubject } from './BaseSubject';\nexport default class SynthSubject extends BaseSubject {\n  constructor() {\n    super({\n      synth: new Synth(),\n      oscillator: 'triangle',\n      envelope: Object.assign({}, Envelope.getDefaults(), {\n        attack: 0.005,\n        decay: 0.1,\n        sustain: 0.3,\n        release: 1\n      }),\n      sound: undefined\n    });\n    this.store = 'synth-state';\n    this.state.synth.toDestination();\n    this.patch({\n      sound: Sound.from(this.state.synth, this.state.synth.context).analyze(64)\n    });\n  }\n\n  setEnvelope(values) {\n    this.patch({\n      envelope: _objectSpread({}, this.state.envelope, {}, values)\n    });\n    this.state.synth.set({\n      envelope: this.state.envelope\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/erickoduniyi/Desktop/affective_chaos_control/Emulators/wind-field/src/engine/SynthSubject.ts"],"names":["Synth","Envelope","Sound","BaseSubject","SynthSubject","constructor","synth","oscillator","envelope","Object","assign","getDefaults","attack","decay","sustain","release","sound","undefined","store","state","toDestination","patch","from","context","analyze","setEnvelope","values","set"],"mappings":";AAAA,SAASA,KAAT,EAAgBC,QAAhB,QAAgC,MAAhC;AACA,SAASC,KAAT,QAAsB,KAAtB;AACA,SAASC,WAAT,QAA4B,eAA5B;AAGA,eAAe,MAAMC,YAAN,SAA2BD,WAA3B,CAAmD;AAGhEE,EAAAA,WAAW,GAAG;AACZ,UAAM;AACJC,MAAAA,KAAK,EAAE,IAAIN,KAAJ,EADH;AAEJO,MAAAA,UAAU,EAAE,UAFR;AAGJC,MAAAA,QAAQ,EAAEC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBT,QAAQ,CAACU,WAAT,EAAlB,EAA0C;AAClDC,QAAAA,MAAM,EAAE,KAD0C;AAElDC,QAAAA,KAAK,EAAE,GAF2C;AAGlDC,QAAAA,OAAO,EAAE,GAHyC;AAIlDC,QAAAA,OAAO,EAAE;AAJyC,OAA1C,CAHN;AASJC,MAAAA,KAAK,EAAEC;AATH,KAAN;AADY,SAFJC,KAEI,GAFY,aAEZ;AAaZ,SAAKC,KAAL,CAAWb,KAAX,CAAiBc,aAAjB;AACA,SAAKC,KAAL,CAAW;AACTL,MAAAA,KAAK,EAAEd,KAAK,CAACoB,IAAN,CAAW,KAAKH,KAAL,CAAWb,KAAtB,EAAoC,KAAKa,KAAL,CAAWb,KAAX,CAAiBiB,OAArD,EAAqEC,OAArE,CAA6E,EAA7E;AADE,KAAX;AAGD;;AAEDC,EAAAA,WAAW,CAACC,MAAD,EAAc;AACvB,SAAKL,KAAL,CAAW;AACTb,MAAAA,QAAQ,oBACH,KAAKW,KAAL,CAAWX,QADR,MAEHkB,MAFG;AADC,KAAX;AAOA,SAAKP,KAAL,CAAWb,KAAX,CAAiBqB,GAAjB,CAAqB;AACnBnB,MAAAA,QAAQ,EAAE,KAAKW,KAAL,CAAWX;AADF,KAArB;AAGD;;AAjC+D","sourcesContent":["import { Synth, Envelope } from 'tone';\nimport { Sound } from 'pts';\nimport { BaseSubject } from './BaseSubject';\nimport { SynthState } from '../interfaces';\n\nexport default class SynthSubject extends BaseSubject<SynthState> {\n  protected store: string = 'synth-state';\n\n  constructor() {\n    super({\n      synth: new Synth(),\n      oscillator: 'triangle',\n      envelope: Object.assign({}, Envelope.getDefaults(), {\n        attack: 0.005,\n        decay: 0.1,\n        sustain: 0.3,\n        release: 1\n      }),\n      sound: undefined\n    });\n\n    this.state.synth.toDestination();\n    this.patch({\n      sound: Sound.from(this.state.synth as any, this.state.synth.context as any).analyze(64),\n    })\n  }\n\n  setEnvelope(values: any) {\n    this.patch({\n      envelope: {\n        ...this.state.envelope,\n        ...values\n      }\n    });\n\n    this.state.synth.set({\n      envelope: this.state.envelope\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}